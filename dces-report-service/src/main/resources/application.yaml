server:
  port: 8089

management:
  server:
    port: 8188
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus

springdoc:
  packagesToScan: uk.gov.justice.laa.crime.dces.report
  show-actuator: true
  api-docs:
    path: /dces-report-service
    enabled: true

  swagger-ui:
    path: /open-api/docs.html
    enabled: true
    operationsSorter: method

services:
  maat-api:
    baseUrl: ${MAAT_API_BASE_URL}
    registrationId: ${MAAT_API_REGISTRATION_ID}
    oAuthEnabled: true
    maxBufferSize: 16

# TODO (DCES-77): It seems for other projects, these values are generated to allow token generation and allow authentication
#dces-api:
#  baseUrl: ${DCES_REPORT_API_URL}
#  clientSecret: ${DCES_REPORT_API_AUTH_SECRET}
#  issuerUri: http://localhost:${server.port}

emailClient:
  notify:
    key: ${NOTIFY_KEY}
    template-id: ${NOTIFY_TEMPLATEID}
    recipient: ${NOTIFY_RECIPIENT}

spring:
  mvc:
    format:
      date: dd.MM.yyyy
  security:
    oauth2:
      # Interactive/Web user authentication
      client:
        provider:
          maatapi:
            token-uri: ${MAAT_API_OAUTH_URL}
        registration:
          maatapi:
            client-id: ${MAAT_API_OAUTH_CLIENT_ID}
            client-secret: ${MAAT_API_OAUTH_CLIENT_SECRET}
            authorization-grant-type: client_credentials
            scope:
              - ${MAAT_API_OAUTH_SCOPE}
      # TODO (DCES-77): Confirm this value, required to generate access token allowing authentication
  #      resource-server:
  #        jwt:
  #          issuer-uri: ${DCES_REPORT_RESOURCE_SERVER_ISSUER_URI}
  scheduling:
    contributions:
      cron: "0 0 5 5 * ?" # (5th of every month at 05:00am)
    fdc:
      cron: "0 20 5 5 * ?" # (5th of every month at 05:20am)

sentry:
  dsn: https://1793d75ecbcf9679795c3fb39704068d@o4505662201200640.ingest.sentry.io/4505662214897664
  send-default-pii: true
  in-app-includes: uk.gov.justice.laa.crime.dces
